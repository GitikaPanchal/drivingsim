<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cruise Control Simulator</title>
    <link rel="icon" href="steering.png" type="image/png" />
    <link rel="stylesheet" href="styles.css" />
    <script src="script.js" defer></script>
  </head>
  <body>
    <div id="game">
      <div id="road"></div>
      <div id="car"></div>
    </div>
    <div id="dashboard">
      <div>
        <h2>Dashboard</h2>
        <p>Speed: <span id="speed">0</span> km/h</p>
        <p>Cruise Control: <span id="cruiseStatus">OFF</span></p>
        <div id="controls">
          <button onclick="accelerate()">Accelerate</button>
          <button onclick="decelerate()">Decelerate</button>
          <button onclick="toggleCruise()">Toggle Cruise Control</button>
        </div>
        <hr />
        <h3>Mechanics</h3>
        <p id="mechanicsLog">Waiting for action...</p>
      </div>

      <div class="mechanical-diagram">
        <h4>Cruise Control System Diagram</h4>
        <svg viewBox="0 0 300 200">
          <!-- Driver Input Section -->
          <g id="driver-input">
            <rect
              x="10"
              y="40"
              width="40"
              height="20"
              fill="#ddd"
              stroke="#999"
              stroke-width="1"
            />
            <text x="30" y="35" class="mechanical-label" text-anchor="middle">
              Accelerator Pedal
            </text>
          </g>

          <!-- Cruise Control Switch -->
          <g id="cruise-switch">
            <rect
              x="10"
              y="90"
              width="40"
              height="20"
              fill="#ddd"
              stroke="#999"
              stroke-width="1"
            />
            <text x="30" y="85" class="mechanical-label" text-anchor="middle">
              Cruise Control Switch
            </text>
            <rect
              id="cruise-indicator"
              x="15"
              y="95"
              width="10"
              height="10"
              fill="gray"
            />
          </g>

          <!-- ECU (Electronic Control Unit) -->
          <g id="ecu-unit">
            <rect
              x="100"
              y="130"
              width="60"
              height="40"
              fill="#eee"
              stroke="#999"
              stroke-width="1"
            />
            <text x="130" y="125" class="mechanical-label" text-anchor="middle">
              ECU
            </text>
            <circle id="ecuLight" cx="115" cy="150" r="8" fill="gray" />
            <text
              x="115"
              y="170"
              class="mechanical-label"
              text-anchor="middle"
              font-size="10"
            >
              Status
            </text>
          </g>

          <!-- Speed Sensor -->
          <g id="speed-sensor">
            <circle
              cx="100"
              cy="90"
              r="15"
              fill="#eee"
              stroke="#999"
              stroke-width="1"
            />
            <text x="100" y="75" class="mechanical-label" text-anchor="middle">
              Speed Sensor
            </text>
            <path
              d="M95,90 L105,90 M100,85 L100,95"
              stroke="#333"
              stroke-width="1"
            />
          </g>

          <!-- Throttle Actuator -->
          <g id="throttle">
            <rect
              x="190"
              y="60"
              width="40"
              height="30"
              fill="#eee"
              stroke="#999"
              stroke-width="1"
            />
            <text x="210" y="55" class="mechanical-label" text-anchor="middle">
              Throttle Actuator
            </text>
            <rect
              id="throttle-position"
              x="195"
              y="70"
              width="30"
              height="10"
              fill="#aaa"
            />
          </g>

          <!-- Engine -->
          <g id="engine">
            <rect
              x="240"
              y="120"
              width="50"
              height="40"
              fill="#ddd"
              stroke="#999"
              stroke-width="1"
              rx="5"
              ry="5"
            />
            <text x="265" y="115" class="mechanical-label" text-anchor="middle">
              Engine
            </text>
            <path
              d="M245,135 L250,130 L255,135 L260,130 L265,135 L270,130 L275,135 L280,130 L285,135"
              stroke="#666"
              stroke-width="1.5"
              fill="none"
            />
          </g>

          <!-- Connection Lines -->
          <!-- Driver to Throttle -->
          <line
            x1="50"
            y1="50"
            x2="190"
            y2="75"
            stroke="#333"
            stroke-width="1.5"
            stroke-dasharray="4,2"
            id="manual-control"
          />

          <!-- Cruise Switch to ECU -->
          <line
            x1="50"
            y1="100"
            x2="100"
            y2="130"
            stroke="#333"
            stroke-width="1.5"
            id="cruise-command"
          />

          <!-- Speed Sensor to ECU -->
          <line
            x1="100"
            y1="105"
            x2="110"
            y2="130"
            stroke="#333"
            stroke-width="1.5"
            id="speed-data"
          />

          <!-- ECU to Throttle -->
          <line
            x1="160"
            y1="140"
            x2="190"
            y2="85"
            stroke="#333"
            stroke-width="1.5"
            id="ecu-control"
          />

          <!-- Throttle to Engine -->
          <line
            x1="230"
            y1="75"
            x2="240"
            y2="120"
            stroke="#333"
            stroke-width="1.5"
            id="throttle-input"
          />

          <!-- Feedback From Engine to Speed Sensor -->
          <path
            d="M265,160 Q280,180 230,180 Q180,180 100,105"
            stroke="#333"
            stroke-width="1"
            stroke-dasharray="3,2"
            fill="none"
            id="feedback-loop"
          />
        </svg>
      </div>
    </div>
  </body>
</html>
